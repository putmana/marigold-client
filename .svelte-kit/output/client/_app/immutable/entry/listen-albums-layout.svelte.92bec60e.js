import{S as D,i as O,s as T,m as U,o as b,a as B,p as g,g as C,q as d,h,u as q,r as H,v as K,w as m,x as _,y as k,f as p,l as P,z as S,A as w,B as $,C as j,e as y,t as z,c as F,b as I,d as R,j as Z,k as G,n as u,D as J,E as M,F as Q}from"../chunks/index.fabf1593.js";import{P as V,L as W,a as X}from"../chunks/list-item.8b39040d.js";import{U as Y}from"../chunks/mg.config.c6f47e45.js";import{g as x}from"../chunks/api-albums.43728327.js";import{f as A}from"../chunks/utils.28887bd2.js";import{t as E}from"../chunks/auth.cb11a4f9.js";function N(r,l,n){const o=r.slice();return o[4]=l[n],o}function ee(r){let l,n=r[7]+"",o;return{c(){l=y("h4"),o=z(n)},l(s){l=F(s,"H4",{});var t=I(l);o=R(t,n),t.forEach(p)},m(s,t){h(s,l,t),Z(l,o)},p(s,t){t&1&&n!==(n=s[7]+"")&&G(o,n)},i:u,o:u,d(s){s&&p(l)}}}function te(r){let l,n,o,s;l=new W({props:{label:"Albums"}});let t=r[0],e=[];for(let a=0;a<t.length;a+=1)e[a]=L(N(r,t,a));const i=a=>_(e[a],1,1,()=>{e[a]=null});return{c(){b(l.$$.fragment),n=B();for(let a=0;a<e.length;a+=1)e[a].c();o=$()},l(a){g(l.$$.fragment,a),n=C(a);for(let f=0;f<e.length;f+=1)e[f].l(a);o=$()},m(a,f){d(l,a,f),h(a,n,f);for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,f);h(a,o,f),s=!0},p(a,f){if(f&1){t=a[0];let c;for(c=0;c<t.length;c+=1){const v=N(a,t,c);e[c]?(e[c].p(v,f),m(e[c],1)):(e[c]=L(v),e[c].c(),m(e[c],1),e[c].m(o.parentNode,o))}for(J(),c=t.length;c<e.length;c+=1)i(c);M()}},i(a){if(!s){m(l.$$.fragment,a);for(let f=0;f<t.length;f+=1)m(e[f]);s=!0}},o(a){_(l.$$.fragment,a),e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)_(e[f]);s=!1},d(a){k(l,a),a&&p(n),Q(e,a),a&&p(o)}}}function L(r){let l,n;return l=new X({props:{route:"/listen/albums/"+r[4].id,title:r[4].title,artists:A(r[4].artists),cover:r[4].cover.path}}),{c(){b(l.$$.fragment)},l(o){g(l.$$.fragment,o)},m(o,s){d(l,o,s),n=!0},p(o,s){const t={};s&1&&(t.route="/listen/albums/"+o[4].id),s&1&&(t.title=o[4].title),s&1&&(t.artists=A(o[4].artists)),s&1&&(t.cover=o[4].cover.path),l.$set(t)},i(o){n||(m(l.$$.fragment,o),n=!0)},o(o){_(l.$$.fragment,o),n=!1},d(o){k(l,o)}}}function le(r){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function se(r){let l,n,o,s={ctx:r,current:null,token:null,hasCatch:!0,pending:le,then:te,catch:ee,value:0,error:7,blocks:[,,,]};return w(n=r[0],s),{c(){l=$(),s.block.c()},l(t){l=$(),s.block.l(t)},m(t,e){h(t,l,e),s.block.m(t,s.anchor=e),s.mount=()=>l.parentNode,s.anchor=l,o=!0},p(t,e){r=t,s.ctx=r,e&1&&n!==(n=r[0])&&w(n,s)||j(s,r,e)},i(t){o||(m(s.block),o=!0)},o(t){for(let e=0;e<3;e+=1){const i=s.blocks[e];_(i)}o=!1},d(t){t&&p(l),s.block.d(t),s.token=null,s=null}}}function oe(r){let l,n,o;l=new V({props:{$$slots:{default:[se]},$$scope:{ctx:r}}});const s=r[2].default,t=U(s,r,r[3],null);return{c(){b(l.$$.fragment),n=B(),t&&t.c()},l(e){g(l.$$.fragment,e),n=C(e),t&&t.l(e)},m(e,i){d(l,e,i),h(e,n,i),t&&t.m(e,i),o=!0},p(e,[i]){const a={};i&9&&(a.$$scope={dirty:i,ctx:e}),l.$set(a),t&&t.p&&(!o||i&8)&&q(t,s,e,e[3],o?K(s,e[3],i,null):H(e[3]),null)},i(e){o||(m(l.$$.fragment,e),m(t,e),o=!0)},o(e){_(l.$$.fragment,e),_(t,e),o=!1},d(e){k(l,e),e&&p(n),t&&t.d(e)}}}function ae(r,l,n){let o,s;P(r,E,i=>n(1,s=i));let{$$slots:t={},$$scope:e}=l;return r.$$set=i=>{"$$scope"in i&&n(3,e=i.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&n(0,o=x(s).catch(i=>{throw i.message==="BAD TOKEN"&&S(E,s=Y,s),new Error(i)}))},[o,s,t,e]}class me extends D{constructor(l){super(),O(this,l,ae,oe,T,{})}}export{me as default};
