import{S as C,i as T,s as V,e as g,a as $,t as N,c as k,b as I,g as z,d as y,f as _,J as v,h as q,j as E,Q as Z,k as L,n as D,U as W,T as K,o as O,p as U,P as F,q as j,w as A,D as Y,E as x,x as S,F as ee,y as P,A as G,C as te,l as le,z as se}from"../chunks/index.fabf1593.js";import{f as ae}from"../chunks/utils.28887bd2.js";/* empty css                                                       */import{U as re}from"../chunks/mg.config.c6f47e45.js";import{g as ie}from"../chunks/api-albums.43728327.js";import{t as H}from"../chunks/auth.cb11a4f9.js";function J(r){let e,l,t;return{c(){e=g("div"),l=g("img"),this.h()},l(s){e=k(s,"DIV",{class:!0});var a=I(e);l=k(a,"IMG",{class:!0,src:!0}),a.forEach(_),this.h()},h(){v(l,"class","art-image svelte-dl9cqa"),K(l.src,t=r[0].image)||v(l,"src",t),v(e,"class","art svelte-dl9cqa")},m(s,a){q(s,e,a),E(e,l)},p(s,a){a&1&&!K(l.src,t=s[0].image)&&v(l,"src",t)},d(s){s&&_(e)}}}function M(r){let e,l=r[0].sublabel+"",t;return{c(){e=g("div"),t=N(l),this.h()},l(s){e=k(s,"DIV",{class:!0});var a=I(e);t=y(a,l),a.forEach(_),this.h()},h(){v(e,"class","text-sublabel svelte-dl9cqa")},m(s,a){q(s,e,a),E(e,t)},p(s,a){a&1&&l!==(l=s[0].sublabel+"")&&L(t,l)},d(s){s&&_(e)}}}function ne(r){let e,l,t,s,a=r[0].label+"",u,f,b,h,i=r[1]&&J(r),c=r[2]&&M(r);return{c(){e=g("div"),i&&i.c(),l=$(),t=g("div"),s=g("div"),u=N(a),f=$(),c&&c.c(),this.h()},l(n){e=k(n,"DIV",{class:!0});var m=I(e);i&&i.l(m),l=z(m),t=k(m,"DIV",{class:!0});var o=I(t);s=k(o,"DIV",{class:!0});var d=I(s);u=y(d,a),d.forEach(_),f=z(o),c&&c.l(o),o.forEach(_),m.forEach(_),this.h()},h(){v(s,"class","text-label svelte-dl9cqa"),v(t,"class","text svelte-dl9cqa"),v(e,"class","item svelte-dl9cqa")},m(n,m){q(n,e,m),i&&i.m(e,null),E(e,l),E(e,t),E(t,s),E(s,u),E(t,f),c&&c.m(t,null),b||(h=Z(e,"click",r[3]),b=!0)},p(n,[m]){n[1]?i?i.p(n,m):(i=J(n),i.c(),i.m(e,l)):i&&(i.d(1),i=null),m&1&&a!==(a=n[0].label+"")&&L(u,a),n[2]?c?c.p(n,m):(c=M(n),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i:D,o:D,d(n){n&&_(e),i&&i.d(),c&&c.d(),b=!1,h()}}}function ce(r,e,l){let{item:t}=e,s=!1,a=!1;const u=W();function f(){u("select",{id:t.id}),console.log("SELECTED",t.id)}return t.image!==void 0&&(s=!0),t.sublabel!==void 0&&(a=!0),r.$$set=b=>{"item"in b&&l(0,t=b.item)},[t,s,a,f]}class X extends C{constructor(e){super(),T(this,e,ce,ne,V,{item:0})}}function Q(r,e,l){const t=r.slice();return t[10]=e[l],t}function R(r){let e,l;return e=new X({props:{item:r[10]}}),e.$on("select",r[4]),{c(){O(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},p(t,s){const a={};s&4&&(a.item=t[10]),e.$set(a)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function oe(r){let e,l,t,s,a,u,f,b,h,i,c=r[2],n=[];for(let o=0;o<c.length;o+=1)n[o]=R(Q(r,c,o));const m=o=>S(n[o],1,1,()=>{n[o]=null});return f=new X({props:{item:r[3]}}),f.$on("select",r[4]),{c(){e=g("div"),l=g("input"),s=$(),a=g("div");for(let o=0;o<n.length;o+=1)n[o].c();u=$(),O(f.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var d=I(e);l=k(d,"INPUT",{class:!0,type:!0,placeholder:!0}),s=z(d),a=k(d,"DIV",{class:!0});var w=I(a);for(let p=0;p<n.length;p+=1)n[p].l(w);u=z(w),U(f.$$.fragment,w),w.forEach(_),d.forEach(_),this.h()},h(){v(l,"class","form-control search svelte-1g8zj0c"),v(l,"type","text"),v(l,"placeholder",t="Search "+r[0]),v(a,"class","result-box svelte-1g8zj0c"),v(e,"class","wrapper svelte-1g8zj0c")},m(o,d){q(o,e,d),E(e,l),F(l,r[1]),E(e,s),E(e,a);for(let w=0;w<n.length;w+=1)n[w]&&n[w].m(a,null);E(a,u),j(f,a,null),b=!0,h||(i=Z(l,"input",r[8]),h=!0)},p(o,[d]){if((!b||d&1&&t!==(t="Search "+o[0]))&&v(l,"placeholder",t),d&2&&l.value!==o[1]&&F(l,o[1]),d&20){c=o[2];let p;for(p=0;p<c.length;p+=1){const B=Q(o,c,p);n[p]?(n[p].p(B,d),A(n[p],1)):(n[p]=R(B),n[p].c(),A(n[p],1),n[p].m(a,u))}for(Y(),p=c.length;p<n.length;p+=1)m(p);x()}const w={};d&8&&(w.item=o[3]),f.$set(w)},i(o){if(!b){for(let d=0;d<c.length;d+=1)A(n[d]);A(f.$$.fragment,o),b=!0}},o(o){n=n.filter(Boolean);for(let d=0;d<n.length;d+=1)S(n[d]);S(f.$$.fragment,o),b=!1},d(o){o&&_(e),ee(n,o),P(f),h=!1,i()}}}function ue(r,e,l){let t,s,{name:a}=e,{items:u}=e,{showImage:f=!1}=e,{showAdd:b=!1}=e;const h=W();let i="";function c(m){h("select",{item:m.detail.id}),l(1,i="")}function n(){i=this.value,l(1,i)}return r.$$set=m=>{"name"in m&&l(0,a=m.name),"items"in m&&l(5,u=m.items),"showImage"in m&&l(6,f=m.showImage),"showAdd"in m&&l(7,b=m.showAdd)},r.$$.update=()=>{r.$$.dirty&1&&l(3,t={id:"new",label:"Create new "+a,image:"/public/img/mg/covers/default.png"}),r.$$.dirty&34&&l(2,s=u.filter(m=>m.label.toLowerCase().includes(i.toLowerCase())))},[a,i,s,t,c,u,f,b,n]}class fe extends C{constructor(e){super(),T(this,e,ue,oe,V,{name:0,items:5,showImage:6,showAdd:7})}}function me(r){let e,l;return e=new fe({props:{name:"album",items:r[0]}}),e.$on("select",r[1]),{c(){O(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},p:D,i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function he(r,e,l){let{albums:t}=e,s=t.map(u=>({id:u.id,label:u.title,sublabel:ae(u.artists),image:u.cover.path}));function a(u){t.find(f=>f.id===u.detail.id)}return r.$$set=u=>{"albums"in u&&l(2,t=u.albums)},[s,a,t]}class de extends C{constructor(e){super(),T(this,e,he,me,V,{albums:2})}}function _e(r){let e=r[2]+"",l;return{c(){l=N(e)},l(t){l=y(t,e)},m(t,s){q(t,l,s)},p(t,s){s&1&&e!==(e=t[2]+"")&&L(l,e)},i:D,o:D,d(t){t&&_(l)}}}function be(r){let e,l;return e=new de({props:{albums:r[0]}}),{c(){O(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,s){j(e,t,s),l=!0},p(t,s){const a={};s&1&&(a.albums=t[0]),e.$set(a)},i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function pe(r){let e,l;return{c(){e=g("p"),l=N("loading..."),this.h()},l(t){e=k(t,"P",{class:!0});var s=I(e);l=y(s,"loading..."),s.forEach(_),this.h()},h(){v(e,"class","svelte-bqzb91")},m(t,s){q(t,e,s),E(e,l)},p:D,i:D,o:D,d(t){t&&_(e)}}}function ve(r){let e,l,t,s,a,u,f,b,h={ctx:r,current:null,token:null,hasCatch:!0,pending:pe,then:be,catch:_e,value:0,error:2,blocks:[,,,]};return G(t=r[0],h),{c(){e=g("section"),l=g("div"),h.block.c(),s=$(),a=g("section"),u=$(),f=g("section"),this.h()},l(i){e=k(i,"SECTION",{class:!0});var c=I(e);l=k(c,"DIV",{class:!0});var n=I(l);h.block.l(n),n.forEach(_),c.forEach(_),s=z(i),a=k(i,"SECTION",{class:!0});var m=I(a);m.forEach(_),u=z(i),f=k(i,"SECTION",{class:!0});var o=I(f);o.forEach(_),this.h()},h(){v(l,"class","content-box svelte-bqzb91"),v(e,"class","step current svelte-bqzb91"),v(a,"class","step svelte-bqzb91"),v(f,"class","step svelte-bqzb91")},m(i,c){q(i,e,c),E(e,l),h.block.m(l,h.anchor=null),h.mount=()=>l,h.anchor=null,q(i,s,c),q(i,a,c),q(i,u,c),q(i,f,c),b=!0},p(i,[c]){r=i,h.ctx=r,c&1&&t!==(t=r[0])&&G(t,h)||te(h,r,c)},i(i){b||(A(h.block),b=!0)},o(i){for(let c=0;c<3;c+=1){const n=h.blocks[c];S(n)}b=!1},d(i){i&&_(e),h.block.d(),h.token=null,h=null,i&&_(s),i&&_(a),i&&_(u),i&&_(f)}}}function ge(r,e,l){let t,s;return le(r,H,a=>l(1,s=a)),r.$$.update=()=>{r.$$.dirty&2&&l(0,t=ie(s).catch(a=>{throw a.message==="BAD TOKEN"&&se(H,s=re,s),new Error(a)}))},[t,s]}class De extends C{constructor(e){super(),T(this,e,ge,ve,V,{})}}export{De as default};
