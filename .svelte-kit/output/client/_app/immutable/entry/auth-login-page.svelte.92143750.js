import{S as ie,i as oe,s as ue,e as m,a as T,t as M,c as _,b as g,f,g as O,d as Q,J as r,h as q,j as u,P as S,Q as Z,R as ce,w as C,E as fe,x as W,F as de,H as pe,l as me,o as _e,p as ve,q as he,y as ge,D as ke,z as ae}from"../chunks/index.fabf1593.js";import{g as Ee}from"../chunks/navigation.e1a38616.js";import{I as Ie}from"../chunks/info-banner.2d9e96c4.js";import{U as be}from"../chunks/mg.config.c6f47e45.js";import{a as ye}from"../chunks/api-login.1c717d67.js";import{t as x}from"../chunks/auth.cb11a4f9.js";function le(p,l,o){const t=p.slice();return t[7]=l[o],t}function re(p){let l,o;return l=new Ie({props:{message:p[7],style:"error"}}),{c(){_e(l.$$.fragment)},l(t){ve(l.$$.fragment,t)},m(t,c){he(l,t,c),o=!0},p(t,c){const d={};c&4&&(d.message=t[7]),l.$set(d)},i(t){o||(C(l.$$.fragment,t),o=!0)},o(t){W(l.$$.fragment,t),o=!1},d(t){ge(l,t)}}}function De(p){let l,o,t,c,d,E,I,A,R,n,k,v,H,N,h,B,U,V,F,y,L,D,j,G,z,X,w=p[2],a=[];for(let e=0;e<w.length;e+=1)a[e]=re(le(p,w,e));const ne=e=>W(a[e],1,1,()=>{a[e]=null});return{c(){l=m("div");for(let e=0;e<a.length;e+=1)a[e].c();o=T(),t=m("div"),c=m("div"),d=m("i"),E=T(),I=m("div"),A=M("login"),R=T(),n=m("form"),k=m("div"),v=m("input"),H=T(),N=m("div"),h=m("input"),B=T(),U=m("div"),V=m("input"),F=T(),y=m("div"),L=M(`Need an account?
        `),D=m("a"),j=M("Get one"),this.h()},l(e){l=_(e,"DIV",{class:!0});var i=g(l);for(let K=0;K<a.length;K+=1)a[K].l(i);i.forEach(f),o=O(e),t=_(e,"DIV",{class:!0});var s=g(t);c=_(s,"DIV",{class:!0});var P=g(c);d=_(P,"I",{class:!0}),g(d).forEach(f),P.forEach(f),E=O(s),I=_(s,"DIV",{class:!0});var Y=g(I);A=Q(Y,"login"),Y.forEach(f),s.forEach(f),R=O(e),n=_(e,"FORM",{class:!0});var b=g(n);k=_(b,"DIV",{class:!0});var $=g(k);v=_($,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),$.forEach(f),H=O(b),N=_(b,"DIV",{class:!0});var ee=g(N);h=_(ee,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),ee.forEach(f),B=O(b),U=_(b,"DIV",{class:!0});var te=g(U);V=_(te,"INPUT",{class:!0,type:!0}),te.forEach(f),F=O(b),y=_(b,"DIV",{class:!0});var J=g(y);L=Q(J,`Need an account?
        `),D=_(J,"A",{href:!0,class:!0});var se=g(D);j=Q(se,"Get one"),se.forEach(f),J.forEach(f),b.forEach(f),this.h()},h(){r(l,"class","banners svelte-e9akid"),r(d,"class","bi bi-flower1 svelte-e9akid"),r(c,"class","logo svelte-e9akid"),r(I,"class","text svelte-e9akid"),r(t,"class","watermark svelte-e9akid"),r(v,"class","input-text svelte-e9akid"),r(v,"name","email"),r(v,"type","email"),r(v,"placeholder","email address"),v.required=!0,r(k,"class","input svelte-e9akid"),r(h,"class","input-text svelte-e9akid"),r(h,"name","password"),r(h,"type","password"),r(h,"placeholder","password"),h.required=!0,r(N,"class","input svelte-e9akid"),r(V,"class","btn-primary svelte-e9akid"),r(V,"type","submit"),V.value="LOG IN",r(U,"class","input svelte-e9akid"),r(D,"href","/auth/register"),r(D,"class","svelte-e9akid"),r(y,"class","subtitle svelte-e9akid"),r(n,"class","svelte-e9akid")},m(e,i){q(e,l,i);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(l,null);q(e,o,i),q(e,t,i),u(t,c),u(c,d),u(t,E),u(t,I),u(I,A),q(e,R,i),q(e,n,i),u(n,k),u(k,v),S(v,p[0]),u(n,H),u(n,N),u(N,h),S(h,p[1]),u(n,B),u(n,U),u(U,V),u(n,F),u(n,y),u(y,L),u(y,D),u(D,j),G=!0,z||(X=[Z(v,"input",p[4]),Z(h,"input",p[5]),Z(n,"submit",ce(p[3]))],z=!0)},p(e,[i]){if(i&4){w=e[2];let s;for(s=0;s<w.length;s+=1){const P=le(e,w,s);a[s]?(a[s].p(P,i),C(a[s],1)):(a[s]=re(P),a[s].c(),C(a[s],1),a[s].m(l,null))}for(ke(),s=w.length;s<a.length;s+=1)ne(s);fe()}i&1&&v.value!==e[0]&&S(v,e[0]),i&2&&h.value!==e[1]&&S(h,e[1])},i(e){if(!G){for(let i=0;i<w.length;i+=1)C(a[i]);G=!0}},o(e){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)W(a[i]);G=!1},d(e){e&&f(l),de(a,e),e&&f(o),e&&f(t),e&&f(R),e&&f(n),z=!1,pe(X)}}}function we(p,l,o){let t;me(p,x,n=>o(6,t=n));let c="",d="",E=[];async function I(){await ye(c,d).then(n=>{ae(x,t=n,t),Ee("/listen")}).catch(n=>{if(ae(x,t=be,t),console.log("ERROR CAUGHT"),n.message=="BAD CREDENTIALS"){let k="Invalid email or password";o(2,E=[...E,k]),o(1,d="")}else{let k="ERROR: "+n.message;o(2,E=[...E,k]),o(0,c=""),o(1,d="")}})}function A(){c=this.value,o(0,c)}function R(){d=this.value,o(1,d)}return[c,d,E,I,A,R]}class Ae extends ie{constructor(l){super(),oe(this,l,we,De,ue,{})}}export{Ae as default};
