import{S as Qe,i as Ye,s as Ke,e as v,a as L,t as B,c as E,b,f,g as T,d as G,J as h,Y as q,h as D,j as _,P as F,Q as le,R as Xe,w as he,E as $e,x as be,F as te,H as xe,o as et,p as tt,q as st,y as lt,B as De,k as ie,D as at}from"../chunks/index.fabf1593.js";import{g as it}from"../chunks/navigation.e1a38616.js";import{I as nt}from"../chunks/info-banner.2d9e96c4.js";import{B as rt,A as ot}from"../chunks/mg.config.c6f47e45.js";const ct=rt+ot+"/register";async function ut(l,e,a){return await fetch(ct,{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify({name:l,email:e,password:a})}).then(t=>{if(t.ok)return{success:!0};if(t.status===422)return t.json().then(s=>{let i=[];return new Map(Object.entries(s)).forEach((d,k)=>{i.push({category:k,message:d[0]})}),{success:!1,issues:i}});throw console.log(t),new Error("SERVER ERROR: "+t.statusText)})}var ee=(l=>(l.generic="generic",l.username="name",l.email="email",l.password="password",l.confirmPassword="confirm_password",l))(ee||{});const Ve={NO_WHITESPACE:/(?!.*\s)/,EMAIL_CHARS:/@.*\./},ht={ALLOWED_CHARS:/^[a-zA-Z0-9_]+$/},ae={DIGIT:/(?=.*\d)/,LOWER_CASE:/(?=.*[a-z])/,UPPER_CASE:/(?=.*[A-Z])/,SPECIAL:/(?=.*[^a-zA-Z0-9])/,NO_WHITESPACE:/^\S+$/};function ft(l){let e=[];return(!Ve.NO_WHITESPACE.test(l)||!Ve.EMAIL_CHARS.test(l))&&e.push({category:"email",message:"Invalid email address"}),e}function _t(l){let e=[];return l.length<4&&e.push({category:"name",message:"Username must contain at least 4 characters"}),l.length>32&&e.push({category:"name",message:"Maximum username length is 32 characters"}),ht.ALLOWED_CHARS.test(l)||e.push({category:"name",message:"Username may only contain alphanumeric characters and _"}),e}function dt(l){let e=[];return l.length<8&&e.push({category:"password",message:"- At least 8 characters"}),l.length>200&&e.push({category:"password",message:"- No more than 200 characters"}),ae.UPPER_CASE.test(l)||e.push({category:"password",message:"- At least one uppercase letter"}),ae.LOWER_CASE.test(l)||e.push({category:"password",message:"- At least one lowercase letter"}),ae.DIGIT.test(l)||e.push({category:"password",message:"- At least one number"}),ae.SPECIAL.test(l)||e.push({category:"password",message:"- At least one special character"}),ae.NO_WHITESPACE.test(l)||e.push({category:"password",message:"- No whitespace"}),e}function gt(l,e){let a=[];return l!==e&&a.push({category:"confirm_password",message:"Passwords do not match"}),a}function pt(l,e,a,t){return[..._t(l),...ft(e),...dt(a),...gt(a,t)]}function Le(l,e,a){const t=l.slice();return t[15]=e[a],t}function Te(l,e,a){const t=l.slice();return t[15]=e[a],t}function Ce(l,e,a){const t=l.slice();return t[15]=e[a],t}function Ne(l,e,a){const t=l.slice();return t[15]=e[a],t}function Oe(l,e,a){const t=l.slice();return t[15]=e[a],t}function Ue(l,e,a){const t=l.slice();return t[15]=e[a],t}function He(l){let e,a;return e=new nt({props:{message:l[15].message,style:"error"}}),{c(){et(e.$$.fragment)},l(t){tt(e.$$.fragment,t)},m(t,s){st(e,t,s),a=!0},p(t,s){const i={};s&512&&(i.message=t[15].message),e.$set(i)},i(t){a||(he(e.$$.fragment,t),a=!0)},o(t){be(e.$$.fragment,t),a=!1},d(t){lt(e,t)}}}function We(l){let e,a=l[8],t=[];for(let s=0;s<a.length;s+=1)t[s]=Me(Oe(l,a,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=De()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);e=De()},m(s,i){for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(s,i);D(s,e,i)},p(s,i){if(i&256){a=s[8];let r;for(r=0;r<a.length;r+=1){const d=Oe(s,a,r);t[r]?t[r].p(d,i):(t[r]=Me(d),t[r].c(),t[r].m(e.parentNode,e))}for(;r<t.length;r+=1)t[r].d(1);t.length=a.length}},d(s){te(t,s),s&&f(e)}}}function Me(l){let e,a=l[15].message+"",t;return{c(){e=v("p"),t=B(a),this.h()},l(s){e=E(s,"P",{class:!0});var i=b(e);t=G(i,a),i.forEach(f),this.h()},h(){h(e,"class","svelte-e9akid")},m(s,i){D(s,e,i),_(e,t)},p(s,i){i&256&&a!==(a=s[15].message+"")&&ie(t,a)},d(s){s&&f(e)}}}function Be(l){let e,a=l[7],t=[];for(let s=0;s<a.length;s+=1)t[s]=Ge(Ne(l,a,s));return{c(){e=v("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=E(s,"DIV",{class:!0});var i=b(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(f),this.h()},h(){h(e,"class","warning svelte-e9akid")},m(s,i){D(s,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(s,i){if(i&128){a=s[7];let r;for(r=0;r<a.length;r+=1){const d=Ne(s,a,r);t[r]?t[r].p(d,i):(t[r]=Ge(d),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=a.length}},d(s){s&&f(e),te(t,s)}}}function Ge(l){let e,a=l[15].message+"",t;return{c(){e=v("p"),t=B(a),this.h()},l(s){e=E(s,"P",{class:!0});var i=b(e);t=G(i,a),i.forEach(f),this.h()},h(){h(e,"class","svelte-e9akid")},m(s,i){D(s,e,i),_(e,t)},p(s,i){i&128&&a!==(a=s[15].message+"")&&ie(t,a)},d(s){s&&f(e)}}}function je(l){let e,a,t,s,i=l[5],r=[];for(let o=0;o<i.length;o+=1)r[o]=ze(Ce(l,i,o));let d=l[6].length>0&&Ze(),k=l[6],p=[];for(let o=0;o<k.length;o+=1)p[o]=qe(Te(l,k,o));return{c(){e=v("div");for(let o=0;o<r.length;o+=1)r[o].c();a=L(),d&&d.c(),t=L(),s=v("div");for(let o=0;o<p.length;o+=1)p[o].c();this.h()},l(o){e=E(o,"DIV",{class:!0});var m=b(e);for(let A=0;A<r.length;A+=1)r[A].l(m);a=T(m),d&&d.l(m),m.forEach(f),t=T(o),s=E(o,"DIV",{class:!0});var c=b(s);for(let A=0;A<p.length;A+=1)p[A].l(c);c.forEach(f),this.h()},h(){h(e,"class","warning svelte-e9akid"),h(s,"class","helper svelte-e9akid")},m(o,m){D(o,e,m);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);_(e,a),d&&d.m(e,null),D(o,t,m),D(o,s,m);for(let c=0;c<p.length;c+=1)p[c]&&p[c].m(s,null)},p(o,m){if(m&32){i=o[5];let c;for(c=0;c<i.length;c+=1){const A=Ce(o,i,c);r[c]?r[c].p(A,m):(r[c]=ze(A),r[c].c(),r[c].m(e,a))}for(;c<r.length;c+=1)r[c].d(1);r.length=i.length}if(o[6].length>0?d||(d=Ze(),d.c(),d.m(e,null)):d&&(d.d(1),d=null),m&64){k=o[6];let c;for(c=0;c<k.length;c+=1){const A=Te(o,k,c);p[c]?p[c].p(A,m):(p[c]=qe(A),p[c].c(),p[c].m(s,null))}for(;c<p.length;c+=1)p[c].d(1);p.length=k.length}},d(o){o&&f(e),te(r,o),d&&d.d(),o&&f(t),o&&f(s),te(p,o)}}}function ze(l){let e,a=l[15].message+"",t;return{c(){e=v("p"),t=B(a),this.h()},l(s){e=E(s,"P",{class:!0});var i=b(e);t=G(i,a),i.forEach(f),this.h()},h(){h(e,"class","svelte-e9akid")},m(s,i){D(s,e,i),_(e,t)},p(s,i){i&32&&a!==(a=s[15].message+"")&&ie(t,a)},d(s){s&&f(e)}}}function Ze(l){let e,a;return{c(){e=v("p"),a=B("Password must contain:"),this.h()},l(t){e=E(t,"P",{class:!0});var s=b(e);a=G(s,"Password must contain:"),s.forEach(f),this.h()},h(){h(e,"class","svelte-e9akid")},m(t,s){D(t,e,s),_(e,a)},d(t){t&&f(e)}}}function qe(l){let e,a=l[15].message+"",t;return{c(){e=v("p"),t=B(a),this.h()},l(s){e=E(s,"P",{class:!0});var i=b(e);t=G(i,a),i.forEach(f),this.h()},h(){h(e,"class","svelte-e9akid")},m(s,i){D(s,e,i),_(e,t)},p(s,i){i&64&&a!==(a=s[15].message+"")&&ie(t,a)},d(s){s&&f(e)}}}function Fe(l){let e,a=l[15].message+"",t;return{c(){e=v("p"),t=B(a),this.h()},l(s){e=E(s,"P",{class:!0});var i=b(e);t=G(i,a),i.forEach(f),this.h()},h(){h(e,"class","svelte-e9akid")},m(s,i){D(s,e,i),_(e,t)},p(s,i){i&32&&a!==(a=s[15].message+"")&&ie(t,a)},d(s){s&&f(e)}}}function mt(l){let e,a,t,s,i,r,d,k,p,o,m,c,A,H,se,U,V,P,fe,W,C,_e,de,j,N,ge,J,pe,$,z,ne,me,Q,ve,Y,Ee,M,ke,Ae,K=l[9],I=[];for(let n=0;n<K.length;n+=1)I[n]=He(Ue(l,K,n));const Je=n=>be(I[n],1,1,()=>{I[n]=null});let y=l[1].length>0&&We(l),S=l[2].length>0&&Be(l),R=l[3].length>0&&je(l),x=l[5],w=[];for(let n=0;n<x.length;n+=1)w[n]=Fe(Le(l,x,n));return{c(){e=v("div");for(let n=0;n<I.length;n+=1)I[n].c();a=L(),t=v("div"),s=v("div"),i=v("i"),r=L(),d=v("div"),k=B("register"),p=L(),o=v("form"),m=v("div"),c=v("input"),A=L(),H=v("div"),y&&y.c(),se=L(),U=v("div"),V=v("input"),P=L(),S&&S.c(),fe=L(),W=v("div"),C=v("input"),_e=L(),R&&R.c(),de=L(),j=v("div"),N=v("input"),ge=L(),J=v("div");for(let n=0;n<w.length;n+=1)w[n].c();pe=L(),$=v("div"),z=v("input"),me=L(),Q=v("div"),ve=B(`Have an account?
        `),Y=v("a"),Ee=B("Log in"),this.h()},l(n){e=E(n,"DIV",{class:!0});var g=b(e);for(let X=0;X<I.length;X+=1)I[X].l(g);g.forEach(f),a=T(n),t=E(n,"DIV",{class:!0});var u=b(t);s=E(u,"DIV",{class:!0});var Z=b(s);i=E(Z,"I",{class:!0}),b(i).forEach(f),Z.forEach(f),r=T(u),d=E(u,"DIV",{class:!0});var Pe=b(d);k=G(Pe,"register"),Pe.forEach(f),u.forEach(f),p=T(n),o=E(n,"FORM",{class:!0});var O=b(o);m=E(O,"DIV",{class:!0});var re=b(m);c=E(re,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0}),A=T(re),H=E(re,"DIV",{class:!0});var we=b(H);y&&y.l(we),we.forEach(f),re.forEach(f),se=T(O),U=E(O,"DIV",{class:!0});var oe=b(U);V=E(oe,"INPUT",{class:!0,type:!0,placeholder:!0}),P=T(oe),S&&S.l(oe),oe.forEach(f),fe=T(O),W=E(O,"DIV",{class:!0});var ce=b(W);C=E(ce,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0}),_e=T(ce),R&&R.l(ce),ce.forEach(f),de=T(O),j=E(O,"DIV",{class:!0});var ue=b(j);N=E(ue,"INPUT",{class:!0,type:!0,placeholder:!0}),ge=T(ue),J=E(ue,"DIV",{class:!0});var ye=b(J);for(let X=0;X<w.length;X+=1)w[X].l(ye);ye.forEach(f),ue.forEach(f),pe=T(O),$=E(O,"DIV",{class:!0});var Se=b($);z=E(Se,"INPUT",{class:!0,type:!0}),Se.forEach(f),me=T(O),Q=E(O,"DIV",{class:!0});var Ie=b(Q);ve=G(Ie,`Have an account?
        `),Y=E(Ie,"A",{href:!0,class:!0});var Re=b(Y);Ee=G(Re,"Log in"),Re.forEach(f),Ie.forEach(f),O.forEach(f),this.h()},h(){h(e,"class","banners svelte-e9akid"),h(i,"class","bi bi-flower1 svelte-e9akid"),h(s,"class","logo svelte-e9akid"),h(d,"class","text svelte-e9akid"),h(t,"class","watermark svelte-e9akid"),h(c,"class","input-text svelte-e9akid"),h(c,"type","username"),h(c,"placeholder","username"),h(c,"maxlength","32"),q(c,"issue",l[8].length>0&&l[1].length>0),h(H,"class","warning svelte-e9akid"),h(m,"class","input svelte-e9akid"),h(V,"class","input-text svelte-e9akid"),h(V,"type","email"),h(V,"placeholder","email address"),q(V,"issue",l[7].length>0&&l[2].length>0),h(U,"class","input svelte-e9akid"),h(C,"class","input-text svelte-e9akid"),h(C,"type","password"),h(C,"placeholder","password"),h(C,"maxlength","200"),q(C,"issue",(l[6].length>0||l[5].length>0)&&l[3].length>0),h(W,"class","input svelte-e9akid"),h(N,"class","input-text svelte-e9akid"),h(N,"type","password"),h(N,"placeholder","confirm password"),q(N,"issue",l[5].length>0),h(J,"class","warning svelte-e9akid"),h(j,"class","input svelte-e9akid"),h(z,"class","btn-primary svelte-e9akid"),h(z,"type","submit"),z.value="REGISTER",z.disabled=ne=l[0].length>0,h($,"class","input svelte-e9akid"),h(Y,"href","/auth/login"),h(Y,"class","svelte-e9akid"),h(Q,"class","subtitle svelte-e9akid"),h(o,"class","svelte-e9akid")},m(n,g){D(n,e,g);for(let u=0;u<I.length;u+=1)I[u]&&I[u].m(e,null);D(n,a,g),D(n,t,g),_(t,s),_(s,i),_(t,r),_(t,d),_(d,k),D(n,p,g),D(n,o,g),_(o,m),_(m,c),F(c,l[1]),_(m,A),_(m,H),y&&y.m(H,null),_(o,se),_(o,U),_(U,V),F(V,l[2]),_(U,P),S&&S.m(U,null),_(o,fe),_(o,W),_(W,C),F(C,l[3]),_(W,_e),R&&R.m(W,null),_(o,de),_(o,j),_(j,N),F(N,l[4]),_(j,ge),_(j,J);for(let u=0;u<w.length;u+=1)w[u]&&w[u].m(J,null);_(o,pe),_(o,$),_($,z),_(o,me),_(o,Q),_(Q,ve),_(Q,Y),_(Y,Ee),M=!0,ke||(Ae=[le(c,"input",l[11]),le(V,"input",l[12]),le(C,"input",l[13]),le(N,"input",l[14]),le(o,"submit",Xe(l[10]))],ke=!0)},p(n,[g]){if(g&512){K=n[9];let u;for(u=0;u<K.length;u+=1){const Z=Ue(n,K,u);I[u]?(I[u].p(Z,g),he(I[u],1)):(I[u]=He(Z),I[u].c(),he(I[u],1),I[u].m(e,null))}for(at(),u=K.length;u<I.length;u+=1)Je(u);$e()}if(g&2&&F(c,n[1]),(!M||g&258)&&q(c,"issue",n[8].length>0&&n[1].length>0),n[1].length>0?y?y.p(n,g):(y=We(n),y.c(),y.m(H,null)):y&&(y.d(1),y=null),g&4&&V.value!==n[2]&&F(V,n[2]),(!M||g&132)&&q(V,"issue",n[7].length>0&&n[2].length>0),n[2].length>0?S?S.p(n,g):(S=Be(n),S.c(),S.m(U,null)):S&&(S.d(1),S=null),g&8&&C.value!==n[3]&&F(C,n[3]),(!M||g&104)&&q(C,"issue",(n[6].length>0||n[5].length>0)&&n[3].length>0),n[3].length>0?R?R.p(n,g):(R=je(n),R.c(),R.m(W,null)):R&&(R.d(1),R=null),g&16&&N.value!==n[4]&&F(N,n[4]),(!M||g&32)&&q(N,"issue",n[5].length>0),g&32){x=n[5];let u;for(u=0;u<x.length;u+=1){const Z=Le(n,x,u);w[u]?w[u].p(Z,g):(w[u]=Fe(Z),w[u].c(),w[u].m(J,null))}for(;u<w.length;u+=1)w[u].d(1);w.length=x.length}(!M||g&1&&ne!==(ne=n[0].length>0))&&(z.disabled=ne)},i(n){if(!M){for(let g=0;g<K.length;g+=1)he(I[g]);M=!0}},o(n){I=I.filter(Boolean);for(let g=0;g<I.length;g+=1)be(I[g]);M=!1},d(n){n&&f(e),te(I,n),n&&f(a),n&&f(t),n&&f(p),n&&f(o),y&&y.d(),S&&S.d(),R&&R.d(),te(w,n),ke=!1,xe(Ae)}}}function vt(l,e,a){let t,s,i,r,d,k=[],p="alkesta",o="adam.putman@outlook.com",m="Tagetes11!",c="Tagetes11!";async function A(){k.length===0&&await ut(p,o,m).then(P=>{P.success?it("/auth/login"):(a(0,k=[...k,...P.issues??[]]),console.log(k))}).catch(P=>{})}function H(){p=this.value,a(1,p)}function se(){o=this.value,a(2,o)}function U(){m=this.value,a(3,m)}function V(){c=this.value,a(4,c)}return l.$$.update=()=>{l.$$.dirty&30&&a(0,k=pt(p,o,m,c)),l.$$.dirty&1&&(a(0,k),a(1,p),a(2,o),a(3,m),a(4,c)),l.$$.dirty&1&&a(9,t=k.filter(P=>P.category===ee.generic)),l.$$.dirty&1&&a(8,s=k.filter(P=>P.category===ee.username)),l.$$.dirty&1&&a(7,i=k.filter(P=>P.category===ee.email)),l.$$.dirty&1&&a(6,r=k.filter(P=>P.category===ee.password)),l.$$.dirty&1&&a(5,d=k.filter(P=>P.category===ee.confirmPassword))},[k,p,o,m,c,d,r,i,s,t,A,H,se,U,V]}class At extends Qe{constructor(e){super(),Ye(this,e,vt,mt,Ke,{})}}export{At as default};
