import{S as At,i as Dt,s as Nt,e as v,t as R,a as D,c as g,b as E,d as z,f as _,g as N,J as i,T as Tt,h as Z,j as o,P as lt,Q as ut,n as ft,H as Zt,U as jt,K as st,l as Et,k as Wt,A as Pt,B as ht,C as Xt,w as x,x as $,z as It,o as dt,p as _t,q as vt,y as gt,W as qt,Z as Ut,_ as Bt,D as St,$ as Ct,E as Ot,a0 as Mt}from"../chunks/index.fabf1593.js";import{D as Yt}from"../chunks/deck.1807290b.js";import{g as xt}from"../chunks/navigation.e1a38616.js";import{f as yt,s as Ft}from"../chunks/utils.28887bd2.js";/* empty css                                                         */import{d as wt}from"../chunks/colors.63b2af4a.js";import{V as Jt}from"../chunks/void.9408c301.js";import{U as $t}from"../chunks/mg.config.c6f47e45.js";import{a as te,u as ee}from"../chunks/api-albums.43728327.js";import{b as le}from"../chunks/palette.1f7ca4c4.js";import{q as Lt,s as se,a as re,v as ae}from"../chunks/player.6751a396.js";import{t as Rt}from"../chunks/auth.cb11a4f9.js";function ie(r){let t,e,l,a,f,d,h,c,m,T,A,p,b,U,w,V,M,P,L,q,B,u,s,n,k,K,S,C,Q,H,O,F,tt,rt,G,et,at,mt;return{c(){t=v("form"),e=v("div"),l=v("div"),a=v("label"),f=R("title"),d=D(),h=v("input"),c=D(),m=v("div"),T=v("label"),A=R("artists"),p=D(),b=v("input"),U=D(),w=v("div"),V=v("button"),M=R("Save"),P=D(),L=v("a"),q=R("Cancel"),B=D(),u=v("label"),s=v("img"),k=D(),K=v("div"),S=R("replace"),C=D(),Q=v("input"),H=D(),O=v("div"),F=v("div"),tt=R("#"),rt=D(),G=v("div"),et=R("TITLE"),this.h()},l(y){t=g(y,"FORM",{class:!0});var I=E(t);e=g(I,"DIV",{class:!0});var j=E(e);l=g(j,"DIV",{class:!0});var it=E(l);a=g(it,"LABEL",{class:!0,for:!0});var J=E(a);f=z(J,"title"),J.forEach(_),d=N(it),h=g(it,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),it.forEach(_),c=N(j),m=g(j,"DIV",{class:!0});var W=E(m);T=g(W,"LABEL",{class:!0,for:!0});var kt=E(T);A=z(kt,"artists"),kt.forEach(_),p=N(W),b=g(W,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),W.forEach(_),U=N(j),w=g(j,"DIV",{class:!0});var X=E(w);V=g(X,"BUTTON",{class:!0});var pt=E(V);M=z(pt,"Save"),pt.forEach(_),P=N(X),L=g(X,"A",{class:!0,href:!0});var ot=E(L);q=z(ot,"Cancel"),ot.forEach(_),X.forEach(_),j.forEach(_),B=N(I),u=g(I,"LABEL",{class:!0,for:!0});var nt=E(u);s=g(nt,"IMG",{src:!0,class:!0}),k=N(nt),K=g(nt,"DIV",{class:!0});var Y=E(K);S=z(Y,"replace"),Y.forEach(_),nt.forEach(_),C=N(I),Q=g(I,"INPUT",{type:!0,id:!0,class:!0}),I.forEach(_),H=N(y),O=g(y,"DIV",{class:!0});var ct=E(O);F=g(ct,"DIV",{class:!0});var bt=E(F);tt=z(bt,"#"),bt.forEach(_),rt=N(ct),G=g(ct,"DIV",{class:!0});var Vt=E(G);et=z(Vt,"TITLE"),Vt.forEach(_),ct.forEach(_),this.h()},h(){i(a,"class","text svelte-1inxk5o"),i(a,"for","title"),i(h,"id","title"),i(h,"type","text"),i(h,"class","text-title svelte-1inxk5o"),i(h,"placeholder","title"),i(l,"class","text-input svelte-1inxk5o"),i(T,"class","text svelte-1inxk5o"),i(T,"for","artist"),i(b,"id","artist"),i(b,"type","text"),i(b,"class","text-artist svelte-1inxk5o"),i(b,"placeholder","artists"),b.value=r[1],i(m,"class","text-input svelte-1inxk5o"),i(V,"class","btn btn-primary svelte-1inxk5o"),i(L,"class","btn btn-secondary svelte-1inxk5o"),i(L,"href","./"),i(w,"class","button-input svelte-1inxk5o"),i(e,"class","text svelte-1inxk5o"),Tt(s.src,n=r[2])||i(s,"src",n),i(s,"class","svelte-1inxk5o"),i(K,"class","overlay svelte-1inxk5o"),i(u,"class","art image svelte-1inxk5o"),i(u,"for","art"),i(Q,"type","file"),i(Q,"id","art"),i(Q,"class","svelte-1inxk5o"),i(t,"class","track-header form-control svelte-1inxk5o"),i(F,"class","number svelte-1inxk5o"),i(G,"class","title svelte-1inxk5o"),i(O,"class","separator svelte-1inxk5o")},m(y,I){Z(y,t,I),o(t,e),o(e,l),o(l,a),o(a,f),o(l,d),o(l,h),lt(h,r[0]),o(e,c),o(e,m),o(m,T),o(T,A),o(m,p),o(m,b),o(e,U),o(e,w),o(w,V),o(V,M),o(w,P),o(w,L),o(L,q),o(t,B),o(t,u),o(u,s),o(u,k),o(u,K),o(K,S),o(t,C),o(t,Q),Z(y,H,I),Z(y,O,I),o(O,F),o(F,tt),o(O,rt),o(O,G),o(G,et),at||(mt=[ut(h,"input",r[8]),ut(V,"click",r[3])],at=!0)},p(y,[I]){I&1&&h.value!==y[0]&&lt(h,y[0]),I&2&&b.value!==y[1]&&(b.value=y[1]),I&4&&!Tt(s.src,n=y[2])&&i(s,"src",n)},i:ft,o:ft,d(y){y&&_(t),y&&_(H),y&&_(O),at=!1,Zt(mt)}}}function oe(r,t,e){let{id:l}=t,{title:a}=t,{artists:f}=t,{category:d}=t,{count:h}=t,{duration:c}=t,{cover:m}=t;const T=jt();function A(){T("save")}function p(){a=this.value,e(0,a)}return r.$$set=b=>{"id"in b&&e(4,l=b.id),"title"in b&&e(0,a=b.title),"artists"in b&&e(1,f=b.artists),"category"in b&&e(5,d=b.category),"count"in b&&e(6,h=b.count),"duration"in b&&e(7,c=b.duration),"cover"in b&&e(2,m=b.cover)},[a,f,m,A,l,d,h,c,p]}class ne extends At{constructor(t){super(),Dt(this,t,oe,ie,Nt,{id:4,title:0,artists:1,category:5,count:6,duration:7,cover:2})}}function zt(r){let t,e,l;return{c(){t=v("div"),e=v("img"),this.h()},l(a){t=g(a,"DIV",{class:!0});var f=E(t);e=g(f,"IMG",{class:!0,src:!0}),f.forEach(_),this.h()},h(){i(e,"class","art-image svelte-kcg0oo"),Tt(e.src,l=r[0].cover.path)||i(e,"src",l),i(t,"class","art svelte-kcg0oo")},m(a,f){Z(a,t,f),o(t,e)},p(a,f){f&1&&!Tt(e.src,l=a[0].cover.path)&&i(e,"src",l)},d(a){a&&_(t)}}}function ce(r){let t,e,l,a,f,d,h,c,m,T,A,p,b,U,w,V,M,P,L,q,B,u=r[1]&&zt(r);return{c(){t=v("div"),e=v("div"),l=v("span"),a=v("i"),f=D(),u&&u.c(),d=D(),h=v("form"),c=v("div"),m=v("label"),T=R("title"),A=D(),p=v("input"),b=D(),U=v("div"),w=v("label"),V=R("artist"),M=D(),P=v("input"),this.h()},l(s){t=g(s,"DIV",{class:!0,style:!0});var n=E(t);e=g(n,"DIV",{class:!0});var k=E(e);l=g(k,"SPAN",{class:!0});var K=E(l);a=g(K,"I",{class:!0}),E(a).forEach(_),K.forEach(_),k.forEach(_),f=N(n),u&&u.l(n),d=N(n),h=g(n,"FORM",{class:!0});var S=E(h);c=g(S,"DIV",{class:!0});var C=E(c);m=g(C,"LABEL",{class:!0,for:!0});var Q=E(m);T=z(Q,"title"),Q.forEach(_),A=N(C),p=g(C,"INPUT",{id:!0,type:!0,class:!0}),C.forEach(_),b=N(S),U=g(S,"DIV",{class:!0});var H=E(U);w=g(H,"LABEL",{class:!0,for:!0});var O=E(w);V=z(O,"artist"),O.forEach(_),M=N(H),P=g(H,"INPUT",{id:!0,type:!0,class:!0}),H.forEach(_),S.forEach(_),n.forEach(_),this.h()},h(){i(a,"class","bi bi-grip-horizontal svelte-kcg0oo"),i(l,"class","number-text svelte-kcg0oo"),i(e,"class","number svelte-kcg0oo"),i(m,"class","text svelte-kcg0oo"),i(m,"for","track-title"),i(p,"id","track-title"),i(p,"type","text"),i(p,"class","text-title svelte-kcg0oo"),i(c,"class","text-input svelte-kcg0oo"),i(w,"class","text svelte-kcg0oo"),i(w,"for","track-artist"),i(P,"id","track-artists"),i(P,"type","text"),i(P,"class","text-artist svelte-kcg0oo"),P.value=L=yt(r[0].artists),i(U,"class","text-input svelte-kcg0oo"),i(h,"class","form-control svelte-kcg0oo"),i(t,"class","track svelte-kcg0oo"),st(t,"--hover-light",r[2].bright.light),st(t,"--hover-dark",r[2].bright.dark)},m(s,n){Z(s,t,n),o(t,e),o(e,l),o(l,a),o(t,f),u&&u.m(t,null),o(t,d),o(t,h),o(h,c),o(c,m),o(m,T),o(c,A),o(c,p),lt(p,r[0].title),o(h,b),o(h,U),o(U,w),o(w,V),o(U,M),o(U,P),q||(B=ut(p,"input",r[4]),q=!0)},p(s,[n]){s[1]?u?u.p(s,n):(u=zt(s),u.c(),u.m(t,d)):u&&(u.d(1),u=null),n&1&&p.value!==s[0].title&&lt(p,s[0].title),n&1&&L!==(L=yt(s[0].artists))&&P.value!==L&&(P.value=L),n&4&&st(t,"--hover-light",s[2].bright.light),n&4&&st(t,"--hover-dark",s[2].bright.dark)},i:ft,o:ft,d(s){s&&_(t),u&&u.d(),q=!1,B()}}}function ue(r,t,e){let l;Et(r,wt,c=>e(2,l=c));let{track:a}=t,{position:f}=t,{showArt:d=!0}=t;function h(){a.title=this.value,e(0,a)}return r.$$set=c=>{"track"in c&&e(0,a=c.track),"position"in c&&e(3,f=c.position),"showArt"in c&&e(1,d=c.showArt)},[a,d,l,f,h]}class fe extends At{constructor(t){super(),Dt(this,t,ue,ce,Nt,{track:0,position:3,showArt:1})}}function he(r){let t,e,l,a,f,d,h,c,m,T,A,p,b,U,w,V,M,P,L,q,B,u,s,n,k,K,S,C,Q,H,O,F,tt,rt,G,et,at,mt;return{c(){t=v("div"),e=v("div"),l=v("span"),a=v("i"),f=D(),d=v("form"),h=v("div"),c=v("label"),m=R("title"),A=D(),p=v("input"),U=D(),w=v("div"),V=v("label"),M=R("artist"),L=D(),q=v("input"),u=D(),s=v("div"),n=v("label"),k=R("audio file"),K=D(),S=v("div"),C=v("label"),Q=R("Select File"),O=D(),F=v("input"),rt=D(),G=v("span"),et=R(r[2]),this.h()},l(y){t=g(y,"DIV",{class:!0,style:!0});var I=E(t);e=g(I,"DIV",{class:!0});var j=E(e);l=g(j,"SPAN",{class:!0});var it=E(l);a=g(it,"I",{class:!0}),E(a).forEach(_),it.forEach(_),j.forEach(_),f=N(I),d=g(I,"FORM",{class:!0});var J=E(d);h=g(J,"DIV",{class:!0});var W=E(h);c=g(W,"LABEL",{class:!0,for:!0});var kt=E(c);m=z(kt,"title"),kt.forEach(_),A=N(W),p=g(W,"INPUT",{id:!0,type:!0,class:!0}),W.forEach(_),U=N(J),w=g(J,"DIV",{class:!0});var X=E(w);V=g(X,"LABEL",{class:!0,for:!0});var pt=E(V);M=z(pt,"artist"),pt.forEach(_),L=N(X),q=g(X,"INPUT",{id:!0,type:!0,class:!0}),X.forEach(_),u=N(J),s=g(J,"DIV",{class:!0});var ot=E(s);n=g(ot,"LABEL",{class:!0});var nt=E(n);k=z(nt,"audio file"),nt.forEach(_),K=N(ot),S=g(ot,"DIV",{class:!0});var Y=E(S);C=g(Y,"LABEL",{class:!0,for:!0});var ct=E(C);Q=z(ct,"Select File"),ct.forEach(_),O=N(Y),F=g(Y,"INPUT",{id:!0,type:!0,class:!0}),rt=N(Y),G=g(Y,"SPAN",{class:!0});var bt=E(G);et=z(bt,r[2]),bt.forEach(_),Y.forEach(_),ot.forEach(_),J.forEach(_),I.forEach(_),this.h()},h(){i(a,"class","bi bi-grip-horizontal svelte-1gi0chg"),i(l,"class","number-text svelte-1gi0chg"),i(e,"class","number svelte-1gi0chg"),i(c,"class","text svelte-1gi0chg"),i(c,"for",T=r[0].temp_id+"-track-title"),i(p,"id",b=r[0].temp_id+"-track-title"),i(p,"type","text"),i(p,"class","text-title svelte-1gi0chg"),i(h,"class","text-input svelte-1gi0chg"),i(V,"class","text svelte-1gi0chg"),i(V,"for",P=r[0].temp_id+"-track-artist"),i(q,"id",B=r[0].temp_id+"-track-artists"),i(q,"type","text"),i(q,"class","text-artist svelte-1gi0chg"),i(w,"class","text-input svelte-1gi0chg"),i(n,"class","text svelte-1gi0chg"),i(C,"class","btn btn-primary svelte-1gi0chg"),i(C,"for",H=r[0].temp_id+"-track-file"),i(F,"id",tt=r[0].temp_id+"-track-file"),i(F,"type","file"),i(F,"class","svelte-1gi0chg"),i(G,"class","svelte-1gi0chg"),i(S,"class","file-name svelte-1gi0chg"),i(s,"class","file-input svelte-1gi0chg"),i(d,"class","form-control svelte-1gi0chg"),i(t,"class","track svelte-1gi0chg"),st(t,"--hover-light",r[3].bright.light),st(t,"--hover-dark",r[3].bright.dark)},m(y,I){Z(y,t,I),o(t,e),o(e,l),o(l,a),o(t,f),o(t,d),o(d,h),o(h,c),o(c,m),o(h,A),o(h,p),lt(p,r[0].title),o(d,U),o(d,w),o(w,V),o(V,M),o(w,L),o(w,q),lt(q,r[0].artists),o(d,u),o(d,s),o(s,n),o(n,k),o(s,K),o(s,S),o(S,C),o(C,Q),o(S,O),o(S,F),o(S,rt),o(S,G),o(G,et),at||(mt=[ut(p,"input",r[6]),ut(q,"input",r[7]),ut(F,"change",r[8])],at=!0)},p(y,[I]){I&1&&T!==(T=y[0].temp_id+"-track-title")&&i(c,"for",T),I&1&&b!==(b=y[0].temp_id+"-track-title")&&i(p,"id",b),I&1&&p.value!==y[0].title&&lt(p,y[0].title),I&1&&P!==(P=y[0].temp_id+"-track-artist")&&i(V,"for",P),I&1&&B!==(B=y[0].temp_id+"-track-artists")&&i(q,"id",B),I&1&&q.value!==y[0].artists&&lt(q,y[0].artists),I&1&&H!==(H=y[0].temp_id+"-track-file")&&i(C,"for",H),I&1&&tt!==(tt=y[0].temp_id+"-track-file")&&i(F,"id",tt),I&4&&Wt(et,y[2]),I&8&&st(t,"--hover-light",y[3].bright.light),I&8&&st(t,"--hover-dark",y[3].bright.dark)},i:ft,o:ft,d(y){y&&_(t),at=!1,Zt(mt)}}}function de(r,t,e){let l,a,f;Et(r,wt,p=>e(3,f=p));let{track:d}=t,{position:h}=t,c;jt();function m(){d.title=this.value,e(0,d),e(2,a),e(5,l),e(1,c)}function T(){d.artists=this.value,e(0,d),e(2,a),e(5,l),e(1,c)}function A(){c=this.files,e(1,c)}return r.$$set=p=>{"track"in p&&e(0,d=p.track),"position"in p&&e(4,h=p.position)},r.$$.update=()=>{r.$$.dirty&2&&e(5,l=c!==void 0?Array.from(c):[]),r.$$.dirty&32&&e(2,a=l.length>0?l[0].name:""),r.$$.dirty&4&&e(0,d.path=a,d),r.$$.dirty&2&&console.log(c)},[d,c,a,f,h,l,m,T,A]}class _e extends At{constructor(t){super(),Dt(this,t,de,he,Nt,{track:0,position:4})}}function Ht(r,t,e){const l=r.slice();return l[19]=t[e],l[21]=e,l}function Kt(r,t,e){const l=r.slice();return l[22]=t[e],l[21]=e,l}function ve(r){let t,e;return t=new Jt({props:{text:r[24]}}),{c(){dt(t.$$.fragment)},l(l){_t(t.$$.fragment,l)},m(l,a){vt(t,l,a),e=!0},p(l,a){const f={};a&8&&(f.text=l[24]),t.$set(f)},i(l){e||(x(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){gt(t,l)}}}function ge(r){let t,e;return t=new Yt({props:{$$slots:{default:[me]},$$scope:{ctx:r}}}),{c(){dt(t.$$.fragment)},l(l){_t(t.$$.fragment,l)},m(l,a){vt(t,l,a),e=!0},p(l,a){const f={};a&33554439&&(f.$$scope={dirty:a,ctx:l}),t.$set(f)},i(l){e||(x(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){gt(t,l)}}}function Qt(r,t){let e,l,a;function f(){return t[13](t[21])}function d(){return t[14](t[22])}return l=new fe({props:{track:t[22],position:t[21]+1,showArt:!1}}),l.$on("queuethislist",f),l.$on("queuethistrack",d),{key:r,first:null,c(){e=ht(),dt(l.$$.fragment),this.h()},l(h){e=ht(),_t(l.$$.fragment,h),this.h()},h(){this.first=e},m(h,c){Z(h,e,c),vt(l,h,c),a=!0},p(h,c){t=h;const m={};c&4&&(m.track=t[22]),c&4&&(m.position=t[21]+1),l.$set(m)},i(h){a||(x(l.$$.fragment,h),a=!0)},o(h){$(l.$$.fragment,h),a=!1},d(h){h&&_(e),gt(l,h)}}}function Gt(r,t){let e,l,a;function f(...d){return t[15](t[21],...d)}return l=new _e({props:{track:t[19],position:t[2].length+t[21]}}),l.$on("change",f),{key:r,first:null,c(){e=ht(),dt(l.$$.fragment),this.h()},l(d){e=ht(),_t(l.$$.fragment,d),this.h()},h(){this.first=e},m(d,h){Z(d,e,h),vt(l,d,h),a=!0},p(d,h){t=d;const c={};h&1&&(c.track=t[19]),h&5&&(c.position=t[2].length+t[21]),l.$set(c)},i(d){a||(x(l.$$.fragment,d),a=!0)},o(d){$(l.$$.fragment,d),a=!1},d(d){d&&_(e),gt(l,d)}}}function me(r){let t,e,l,a,f=[],d=new Map,h,c=[],m=new Map,T,A,p,b,U,w;function V(s){r[11](s)}function M(s){r[12](s)}let P={id:r[1].id,artists:yt(r[1].artists),count:r[2].length,duration:Ft(r[2]),cover:r[1].cover.path};r[1].title!==void 0&&(P.title=r[1].title),r[1].category!==void 0&&(P.category=r[1].category),t=new ne({props:P}),qt.push(()=>Ut(t,"title",V)),qt.push(()=>Ut(t,"category",M)),t.$on("save",r[8]);let L=r[2];const q=s=>s[22].id;for(let s=0;s<L.length;s+=1){let n=Kt(r,L,s),k=q(n);d.set(k,f[s]=Qt(k,n))}let B=r[0];const u=s=>s[19].temp_id;for(let s=0;s<B.length;s+=1){let n=Ht(r,B,s),k=u(n);m.set(k,c[s]=Gt(k,n))}return{c(){dt(t.$$.fragment),a=D();for(let s=0;s<f.length;s+=1)f[s].c();h=D();for(let s=0;s<c.length;s+=1)c[s].c();T=D(),A=v("button"),p=R("+ new track"),this.h()},l(s){_t(t.$$.fragment,s),a=N(s);for(let k=0;k<f.length;k+=1)f[k].l(s);h=N(s);for(let k=0;k<c.length;k+=1)c[k].l(s);T=N(s),A=g(s,"BUTTON",{class:!0});var n=E(A);p=z(n,"+ new track"),n.forEach(_),this.h()},h(){i(A,"class","add-track btn btn-secondary svelte-n1h89f")},m(s,n){vt(t,s,n),Z(s,a,n);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(s,n);Z(s,h,n);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(s,n);Z(s,T,n),Z(s,A,n),o(A,p),b=!0,U||(w=ut(A,"click",r[7]),U=!0)},p(s,n){const k={};n&2&&(k.id=s[1].id),n&2&&(k.artists=yt(s[1].artists)),n&4&&(k.count=s[2].length),n&4&&(k.duration=Ft(s[2])),n&2&&(k.cover=s[1].cover.path),!e&&n&2&&(e=!0,k.title=s[1].title,Bt(()=>e=!1)),!l&&n&2&&(l=!0,k.category=s[1].category,Bt(()=>l=!1)),t.$set(k),n&52&&(L=s[2],St(),f=Ct(f,n,q,1,s,L,d,h.parentNode,Mt,Qt,h,Kt),Ot()),n&69&&(B=s[0],St(),c=Ct(c,n,u,1,s,B,m,T.parentNode,Mt,Gt,T,Ht),Ot())},i(s){if(!b){x(t.$$.fragment,s);for(let n=0;n<L.length;n+=1)x(f[n]);for(let n=0;n<B.length;n+=1)x(c[n]);b=!0}},o(s){$(t.$$.fragment,s);for(let n=0;n<f.length;n+=1)$(f[n]);for(let n=0;n<c.length;n+=1)$(c[n]);b=!1},d(s){gt(t,s),s&&_(a);for(let n=0;n<f.length;n+=1)f[n].d(s);s&&_(h);for(let n=0;n<c.length;n+=1)c[n].d(s);s&&_(T),s&&_(A),U=!1,w()}}}function ke(r){let t,e;return t=new Jt({props:{text:"loading..."}}),{c(){dt(t.$$.fragment)},l(l){_t(t.$$.fragment,l)},m(l,a){vt(t,l,a),e=!0},p:ft,i(l){e||(x(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){gt(t,l)}}}function pe(r){let t,e,l,a={ctx:r,current:null,token:null,hasCatch:!0,pending:ke,then:ge,catch:ve,value:3,error:24,blocks:[,,,]};return Pt(e=r[3],a),{c(){t=ht(),a.block.c()},l(f){t=ht(),a.block.l(f)},m(f,d){Z(f,t,d),a.block.m(f,a.anchor=d),a.mount=()=>t.parentNode,a.anchor=t,l=!0},p(f,[d]){r=f,a.ctx=r,d&8&&e!==(e=r[3])&&Pt(e,a)||Xt(a,r,d)},i(f){l||(x(a.block),l=!0)},o(f){for(let d=0;d<3;d+=1){const h=a.blocks[d];$(h)}l=!1},d(f){f&&_(t),a.block.d(f),a.token=null,a=null}}}function be(r,t,e){let l,a,f,d;Et(r,Rt,u=>e(10,a=u)),Et(r,Lt,u=>e(16,f=u)),Et(r,wt,u=>e(17,d=u));let{data:h}=t,c=[],m,T;function A(u){e(1,m=u.info),e(2,T=u.tracks)}function p(u,s){It(Lt,f=se(u,s),f)}function b(u){It(Lt,f=re([u]),f)}function U(u,s){e(0,c[s]=u,c),console.log(c)}function w(){e(0,c=[...c,{temp_id:ae(),title:"newTrack"+(c.length+1),artists:yt(m.artists),path:""}])}async function V(){await ee(a,m,T,c).then(()=>{xt("/listen/albums/"+h.id)}).catch(u=>{console.error(u)})}function M(u){r.$$.not_equal(m.title,u)&&(m.title=u,e(1,m))}function P(u){r.$$.not_equal(m.category,u)&&(m.category=u,e(1,m))}const L=u=>p(T,u),q=u=>b(u),B=(u,s)=>{U(s.detail.track,u)};return r.$$set=u=>{"data"in u&&e(9,h=u.data)},r.$$.update=()=>{r.$$.dirty&1536&&e(3,l=te(a,h.id).then(u=>(It(wt,d=le(u.info.cover.color),d),A(u),u)).catch(u=>{throw u.message==="BAD TOKEN"&&It(Rt,a=$t,a),new Error(u)}))},[c,m,T,l,p,b,U,w,V,h,a,M,P,L,q,B]}class Ue extends At{constructor(t){super(),Dt(this,t,be,pe,Nt,{data:9})}}export{Ue as default};
