import{B as i,A}from"./mg.config.c6f47e45.js";import{v as l}from"./api-verify-token.e03f9651.js";import{p as E,a as m}from"./parse.864423d6.js";const s=i+A+"/album";async function S(r){return await l(r).then(o=>{if(o)return fetch(s,{method:"GET",headers:{Authorization:"Bearer "+r}}).then(e=>{if(e.ok)return e.json().then(n=>n.data.map(t=>E(t)));throw console.error("BAD RESPONSE",e),new Error("BAD RESPONSE")});throw new Error("BAD TOKEN")})}async function w(r,a){return await l(r).then(e=>{let n=s+"/"+a;if(e)return fetch(n,{method:"GET",headers:{Authorization:"Bearer "+r}}).then(t=>{if(t.ok)return t.json().then(u=>m(u.data));throw console.error("BAD RESPONSE",t),new Error("BAD RESPONSE")});throw new Error("BAD TOKEN")})}async function D(r,a,o,e){return await l(r).then(t=>{let u=s+"/"+a.id;if(t)return fetch(u,{method:"POST",headers:{Authorization:"Bearer "+r},body:JSON.stringify({info:a,tracks:o,newTracks:e})}).then(h=>h.ok?!0:(console.error("BAD RESPONSE",h),!1));throw new Error("BAD TOKEN")})}export{w as a,S as g,D as u};
